<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./styles.css" />
    <title>Cart Mock</title>
  </head>
  <body>
    <img src="./logo.webp" alt="" id="style-brand-nav" />
    <center>
      <h1 class="mt-5 mb-5">Welcome to amazon</h1>
      <button
        id="cart-button"
        data-bs-toggle="offcanvas"
        aria-controls="userCart"
        data-bs-target="#userCart"
        onclick="
        showUserCart();
        "
      >
        View Cart
      </button>
      <br />
      <br />
      <div
        class="offcanvas offcanvas-start"
        tabindex="-1"
        id="userCart"
        aria-labelledby="offcanvasExampleLabel"
      >
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasExampleLabel">Your Cart</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="offcanvas"
            aria-label="Close"
          ></button>
        </div>
        <div class="offcanvas-body">
          <div class="row userCartElement"></div>
        </div>
      </div>
    </center>
    <div class="container text-center">
      <div class="row" id="products-display"></div>
    </div>
    <script>
      const productSection = document.getElementById("products-display");
      const products = [
        {
          id: 0,
          name: "Basketball",
          price: 1090,
          url: "https://m.media-amazon.com/images/W/MEDIAX_792452-T1/images/I/81mg8K+coMS._AC_SX679_.jpg",
        },
        {
          id: 1,
          name: "T-Shirt",
          price: 1250,
          url: "https://m.media-amazon.com/images/I/A13usaonutL._CLa%7C2140%2C2000%7C618scGcNmrL.png%7C0%2C0%2C2140%2C2000%2B0.0%2C0.0%2C2140.0%2C2000.0_AC_SX679_.png",
        },
        {
          id: 2,
          name: "iPhone 14 Case",
          price: 1549,
          url: "https://encrypted-tbn1.gstatic.com/shopping?q=tbn:ANd9GcRWOXxW4nVdDKMFNGyyxDNX6H_Snn4ldDOVcFYzFOgukCHFVxcbtlwb9lgwT2V6P7aaxgZfwqGtTpu_sjbRJ4zPEHdQ1cZbuSrMgl-I-3cZZL2NKDY17Wd-&usqp=CAE",
        },
      ];
      let userCart = [];
      let content;

      products.map((product) => {
        productSection.innerHTML +=
          `<div class="col card" style="width: 16rem" key=${product}>\n` +
          `  <img src=${product.url} alt="" id="style-product-url">\n` +
          `  <h1 id="style-product-name">${product.name}</h1>\n` +
          `   <center>\n` +
          `    <button id="add-cart-button" onclick="addToCart(${product.id})" class="rounded">Add To Cart</button>\n` +
          `   </center>\n` +
          `</div>\n`;
      });

      function addToCart(productID) {
        console.log(`Added to cart ${productID}`);
        userCart.push(products[productID]);
        console.log(userCart);
      }

      function showUserCart() {
        const userCartElement = document.querySelector(".userCartElement");

        const userCartMap = userCart.map((item) => {
          userCartElement.innerHTML +=
            `<div class="card mb-3" key=${item} style="maxWidth: 540px;">\n` +
            `<div class="row g-0">\n` +
            `  <div class="col-md-4">\n` +
            `    <img src=${item.url} class="img-fluid rounded-start" alt="">\n` +
            `  </div>\n` +
            `  <div class="col-md-8">\n` +
            `    <div class="card-body">\n` +
            `      <h5 class="card-title">${item.name}</h5>\n` +
            `      <p class="card-text">$ ${item.price / 100}</p>\n` +
            `    </div>\n` +
            `</div>\n` +
            `</div>\n` +
            `</div>\n`;
        });
      }
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
